<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPP Validator</title>
    <link rel="stylesheet" href="../branding/css/keystone-style.css?v=1769696486423">
    <link rel="stylesheet" href="validator.css?v=1769696486423">
    <script type="importmap">
    {
      "imports": {
        "ajv/dist/2020.js": "../lib/vendor/ajv.2020.js",
        "ajv-formats": "../lib/vendor/ajv-formats.js",
        "strip-json-comments": "../lib/vendor/strip-json-comments.js",
        "jsonld": "../lib/vendor/jsonld.esm.min.js"
      }
    }
    </script>
</head>
<body>
    <div class="container">
        <header>
            <img src="../branding/images/keystone_logo.png" alt="DPP Keystone Logo" style="height: 80px;">
            <div>
                <h1 style="margin-bottom: 0; font-size: 2.2em;">DPP Validator</h1>
                <p style="margin-top: 0.5em; font-size: 1.1em; color: var(--text-light);">Official JSON Schema Validation Tool</p>
            </div>
        </header>

        <nav style="margin-bottom: 20px;">
            <a href="../index.html" class="nav-link">Home</a> | 
            <a href="../wizard/index.html" class="nav-link">Wizard</a>
        </nav>

        <div id="validator-container">
            <section id="validator-tool" class="card">
                <h2>JSON DPP Validator</h2>
                <p>Paste a DPP JSON file below to validate it against the official schemas (Core + Sectors) or try it out with one of our examples.</p>
                
                <div class="input-group" style="margin-bottom: 10px; display: flex; gap: 10px; align-items: center;">
                    <label for="example-selector">Load Example:</label>
                    <select id="example-selector">
                        <option value="">-- Select an example --</option>
                    </select>
                </div>

                <textarea id="json-input" placeholder='{"digitalProductPassportId": "..."}'></textarea>
                <button id="validate-btn" disabled>Validate</button>
                
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
                    <h3 style="margin-top: 0;">Visualization</h3>
                    <div style="margin-bottom: 10px;">
                        <input type="text" id="css-url" placeholder="Custom CSS URL (optional)" style="width: 100%; padding: 8px; box-sizing: border-box;">
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button id="preview-schema-btn" class="secondary" disabled>Preview HTML With Schema.org</button>
                        <button id="preview-no-schema-btn" class="secondary" disabled>Preview HTML Without Schema</button>
                        <button id="schema-btn" class="secondary" disabled>Preview Schema.org</button>
                    </div>
                    
                    <div style="margin-top: 15px; font-size: 0.9em; color: #666; background: #f9f9f9; padding: 10px; border-radius: 4px;">
                        <p style="margin-top: 0;"><strong>About these tools:</strong></p>
                        <ul style="padding-left: 20px; margin-bottom: 0;">
                            <li style="margin-bottom: 5px;">
                                <strong>HTML Preview:</strong> Renders your JSON data into a user-friendly web page. This feature uses code freely available in our Developer SDKs and is intended to serve as inspiration for how a legally compliant JSON DPP can be visualized.
                            </li>
                            <li>
                                <strong>Schema.org Generation:</strong> Transforms your DPP data into <a href="https://schema.org/Product" target="_blank">Schema.org Product</a> structured data (JSON-LD). This format is optimized for search engines (Google, Bing) and e-commerce integration, making your product data machine-readable and discoverable.
                            </li>
                        </ul>
                    </div>
                </div>

                <div id="validation-result" class="result-box" hidden></div>
            </section>
        </div>

        <footer>
            <p><small>Part of the <a href="../index.html">DPP Keystone</a> project.</small></p>
        </footer>
    </div>
    <script type="module" src="validator.js?v=1769696486423"></script>
</body>
</html>